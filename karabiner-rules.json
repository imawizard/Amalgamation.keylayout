{
	"title": "Amalgamation extensions",
	"rules": [
		{
			"description": "[Amalgamation] Replace ⇪ with ctrl, C-c with ⎋ and C-[ with C-c everywhere",
			"manipulators": [
				{ "type": "basic", "from": { "key_code": "caps_lock",    "modifiers": { "optional":  ["any"         ] } }, "to": [{ "key_code": "left_control"                              }] },
				{ "type": "basic", "from": { "key_code": "i",            "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "escape"                                    }] },
				{ "type": "basic", "from": { "key_code": "open_bracket", "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "i",            "modifiers": "left_control" }] }
			]
		},
		{
			"description": "[Amalgamation] Enable some Emacs meta key mappings everywhere",
			"manipulators": [
				{ "type": "basic", "from": { "key_code": "y", "modifiers": { "mandatory": ["option"], "optional": ["shift"] } }, "to": [{ "key_code": "right_arrow",         "modifiers": ["left_option"] }] },
				{ "type": "basic", "from": { "key_code": "n", "modifiers": { "mandatory": ["option"], "optional": ["shift"] } }, "to": [{ "key_code": "left_arrow",          "modifiers": ["left_option"] }] },
				{ "type": "basic", "from": { "key_code": "j", "modifiers": { "mandatory": ["option"]                        } }, "to": [{ "key_code": "delete_or_backspace", "modifiers": ["left_option"] }] },
				{ "type": "basic", "from": { "key_code": "h", "modifiers": { "mandatory": ["option"]                        } }, "to": [{ "key_code": "delete_forward",      "modifiers": ["left_option"] }] }
			]
		},
		{
			"description": "[Amalgamation] Numpad through right ⇧",
			"manipulators": [
				{ "type": "basic", "from": { "key_code": "x",        "modifiers": { "mandatory": ["right_shift"] } }, "to": [{ "key_code": "keypad_1"      }] },
				{ "type": "basic", "from": { "key_code": "c",        "modifiers": { "mandatory": ["right_shift"] } }, "to": [{ "key_code": "keypad_2"      }] },
				{ "type": "basic", "from": { "key_code": "v",        "modifiers": { "mandatory": ["right_shift"] } }, "to": [{ "key_code": "keypad_3"      }] },
				{ "type": "basic", "from": { "key_code": "s",        "modifiers": { "mandatory": ["right_shift"] } }, "to": [{ "key_code": "keypad_4"      }] },
				{ "type": "basic", "from": { "key_code": "d",        "modifiers": { "mandatory": ["right_shift"] } }, "to": [{ "key_code": "keypad_5"      }] },
				{ "type": "basic", "from": { "key_code": "f",        "modifiers": { "mandatory": ["right_shift"] } }, "to": [{ "key_code": "keypad_6"      }] },
				{ "type": "basic", "from": { "key_code": "w",        "modifiers": { "mandatory": ["right_shift"] } }, "to": [{ "key_code": "keypad_7"      }] },
				{ "type": "basic", "from": { "key_code": "e",        "modifiers": { "mandatory": ["right_shift"] } }, "to": [{ "key_code": "keypad_8"      }] },
				{ "type": "basic", "from": { "key_code": "r",        "modifiers": { "mandatory": ["right_shift"] } }, "to": [{ "key_code": "keypad_9"      }] },
				{ "type": "basic", "from": { "key_code": "spacebar", "modifiers": { "mandatory": ["right_shift"] } }, "to": [{ "key_code": "keypad_0"      }] },
				{ "type": "basic", "from": { "key_code": "q",        "modifiers": { "mandatory": ["right_shift"] } }, "to": [{ "key_code": "q"             }] },
				{ "type": "basic", "from": { "key_code": "2",        "modifiers": { "mandatory": ["right_shift"] } }, "to": [{ "key_code": "keypad_hyphen" }] },
				{ "type": "basic", "from": { "key_code": "3",        "modifiers": { "mandatory": ["right_shift"] } }, "to": [{ "key_code": "keypad_slash"  }] }
			]
		},
		{
			"description": "[Amalgamation] Quick-Launcher",
			"manipulators": [
				{ "type": "basic", "from": { "key_code": "a", "modifiers": { "mandatory": ["right_command"              ] } }, "to": [{ "shell_command": "open -a 'Android Studio'"    }], "conditions": [{ "type": "frontmost_application_unless", "bundle_identifiers": ["^com\\.google\\.android\\.studio$"  ] }] },
				{ "type": "basic", "from": { "key_code": "a", "modifiers": { "mandatory": ["right_command", "left_shift"] } }, "to": [{ "shell_command": "open -a 'Activity Monitor'"  }], "conditions": [{ "type": "frontmost_application_unless", "bundle_identifiers": ["^com\\.apple\\.ActivityMonitor$"    ] }] },
				{ "type": "basic", "from": { "key_code": "u", "modifiers": { "mandatory": ["right_command"              ] } }, "to": [{ "shell_command": "open -a 'GoLand'"            }], "conditions": [{ "type": "frontmost_application_unless", "bundle_identifiers": ["^com\\.jetbrains\\.goland$"         ] }] },
				{ "type": "basic", "from": { "key_code": "u", "modifiers": { "mandatory": ["right_command", "left_shift"] } }, "to": [{ "shell_command": "open -a 'GitUp'"             }], "conditions": [{ "type": "frontmost_application_unless", "bundle_identifiers": ["^co\\.gitup\\.mac$"                 ] }] },
				{ "type": "basic", "from": { "key_code": "k", "modifiers": { "mandatory": ["right_command"              ] } }, "to": [{ "shell_command": "open -a 'iTerm'"             }], "conditions": [{ "type": "frontmost_application_unless", "bundle_identifiers": ["^com\\.googlecode\\.iterm2$"        ] }] },
				{ "type": "basic", "from": { "key_code": "m", "modifiers": { "mandatory": ["right_command"              ] } }, "to": [{ "shell_command": "open -a 'Mail'"              }], "conditions": [{ "type": "frontmost_application_unless", "bundle_identifiers": ["^com\\.apple\\.mail$"               ] }] },
				{ "type": "basic", "from": { "key_code": "m", "modifiers": { "mandatory": ["right_command", "left_shift"] } }, "to": [{ "shell_command": "open -a 'MacPass'"           }], "conditions": [{ "type": "frontmost_application_unless", "bundle_identifiers": ["^com\\.hicknhacksoftware\\.MacPass$"] }] },
				{ "type": "basic", "from": { "key_code": "l", "modifiers": { "mandatory": ["right_command"              ] } }, "to": [{ "shell_command": "open -a 'Messages'"          }], "conditions": [{ "type": "frontmost_application_unless", "bundle_identifiers": ["^com\\.apple\\.iChat$"              ] }] },
				{ "type": "basic", "from": { "key_code": "l", "modifiers": { "mandatory": ["right_command", "left_shift"] } }, "to": [{ "shell_command": "open -a 'Notes'"             }], "conditions": [{ "type": "frontmost_application_unless", "bundle_identifiers": ["^com\\.apple\\.Notes$"              ] }] },
				{ "type": "basic", "from": { "key_code": "s", "modifiers": { "mandatory": ["right_command"              ] } }, "to": [{ "shell_command": "open -a 'Opera'"             }], "conditions": [{ "type": "frontmost_application_unless", "bundle_identifiers": ["^com\\.operasoftware\\.Opera$"      ] }] },
				{ "type": "basic", "from": { "key_code": "d", "modifiers": { "mandatory": ["right_command"              ] } }, "to": [{ "shell_command": "open -a 'Neovim'"            }], "conditions": [{ "type": "frontmost_application_unless", "bundle_identifiers": ["^io\\.alacritty$"                   ] }] },

				{ "type": "basic", "from": { "key_code": "a", "modifiers": { "mandatory": ["right_command"              ] } }, "to": [{ "key_code": "h", "modifiers": ["left_command"] }], "conditions": [{ "type": "frontmost_application_if",     "bundle_identifiers": ["^com\\.google\\.android\\.studio$"  ] }] },
				{ "type": "basic", "from": { "key_code": "a", "modifiers": { "mandatory": ["right_command", "left_shift"] } }, "to": [{ "key_code": "h", "modifiers": ["left_command"] }], "conditions": [{ "type": "frontmost_application_if",     "bundle_identifiers": ["^com\\.apple\\.ActivityMonitor$"    ] }] },
				{ "type": "basic", "from": { "key_code": "u", "modifiers": { "mandatory": ["right_command"              ] } }, "to": [{ "key_code": "h", "modifiers": ["left_command"] }], "conditions": [{ "type": "frontmost_application_if",     "bundle_identifiers": ["^com\\.jetbrains\\.goland$"         ] }] },
				{ "type": "basic", "from": { "key_code": "u", "modifiers": { "mandatory": ["right_command", "left_shift"] } }, "to": [{ "key_code": "h", "modifiers": ["left_command"] }], "conditions": [{ "type": "frontmost_application_if",     "bundle_identifiers": ["^co\\.gitup\\.mac$"                 ] }] },
				{ "type": "basic", "from": { "key_code": "k", "modifiers": { "mandatory": ["right_command"              ] } }, "to": [{ "key_code": "h", "modifiers": ["left_command"] }], "conditions": [{ "type": "frontmost_application_if",     "bundle_identifiers": ["^com\\.googlecode\\.iterm2$"        ] }] },
				{ "type": "basic", "from": { "key_code": "m", "modifiers": { "mandatory": ["right_command"              ] } }, "to": [{ "key_code": "h", "modifiers": ["left_command"] }], "conditions": [{ "type": "frontmost_application_if",     "bundle_identifiers": ["^com\\.apple\\.mail$"               ] }] },
				{ "type": "basic", "from": { "key_code": "m", "modifiers": { "mandatory": ["right_command", "left_shift"] } }, "to": [{ "key_code": "h", "modifiers": ["left_command"] }], "conditions": [{ "type": "frontmost_application_if",     "bundle_identifiers": ["^com\\.hicknhacksoftware\\.MacPass$"] }] },
				{ "type": "basic", "from": { "key_code": "l", "modifiers": { "mandatory": ["right_command"              ] } }, "to": [{ "key_code": "h", "modifiers": ["left_command"] }], "conditions": [{ "type": "frontmost_application_if",     "bundle_identifiers": ["^com\\.apple\\.iChat$"              ] }] },
				{ "type": "basic", "from": { "key_code": "l", "modifiers": { "mandatory": ["right_command", "left_shift"] } }, "to": [{ "key_code": "h", "modifiers": ["left_command"] }], "conditions": [{ "type": "frontmost_application_if",     "bundle_identifiers": ["^com\\.apple\\.Notes$"              ] }] },
				{ "type": "basic", "from": { "key_code": "s", "modifiers": { "mandatory": ["right_command"              ] } }, "to": [{ "key_code": "h", "modifiers": ["left_command"] }], "conditions": [{ "type": "frontmost_application_if",     "bundle_identifiers": ["^com\\.operasoftware\\.Opera$"      ] }] },
				{ "type": "basic", "from": { "key_code": "d", "modifiers": { "mandatory": ["right_command"              ] } }, "to": [{ "key_code": "h", "modifiers": ["left_command"] }], "conditions": [{ "type": "frontmost_application_if",     "bundle_identifiers": ["^io\\.alacritty$"                   ] }] },

				{ "type": "basic", "from": { "key_code": "r", "modifiers": { "mandatory": ["right_command"] } }, "to": [{ "shell_command": "open -a 'Finder'" }],
					"to_delayed_action": {
						"to_if_invoked":  [{ "key_code": "f11", "modifiers": ["left_option"] }],
						"to_if_canceled": [{ "key_code": "f11", "modifiers": ["left_option"] }]
					},
					"parameters": { "to_delayed_action_delay_milliseconds": 150 } },

				{ "type": "basic", "from": { "key_code": "h", "modifiers": { "mandatory": ["right_command"              ] } }, "to": [{ "shell_command": "pgrep 'Dash' || open -a 'Dash'" }, { "key_code": "h", "modifiers": ["left_control", "left_command", "left_option", "left_shift"] }] },
				{ "type": "basic", "from": { "key_code": "i", "modifiers": { "mandatory": ["right_command"              ] } }, "to": [{ "key_code": "f11", "modifiers": ["left_control"                ] }] },
				{ "type": "basic", "from": { "key_code": "i", "modifiers": { "mandatory": ["right_command", "left_shift"] } }, "to": [{ "key_code": "f11", "modifiers": ["left_control", "left_command"] }] },
				{ "type": "basic", "from": { "key_code": "non_us_backslash" }, "to": [{ "key_code": "f11" }] }
			]
		},
		{
			"description": "[Amalgamation] Navigation with C-p/C-n in various apps",
			"manipulators": [
				{ "type": "basic", "from": { "key_code": "r", "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "up_arrow" }],
				"conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": [
					"^com\\.apple\\.finder$",
					"^com\\.kapeli\\.dashdoc$",
					"^co\\.gitup\\.mac$",
					"^com\\.hicknhacksoftware\\.MacPass$",
					"^com\\.operasoftware\\.Opera$",
					"^com\\.apple\\.ActivityMonitor$",
					"^com\\.apple\\.AddressBook$",
					"^com\\.bohemiancoding\\.sketch3$"
				] }] },
				{ "type": "basic", "from": { "key_code": "l", "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "down_arrow" }],
				"conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": [
					"^com\\.apple\\.finder$",
					"^com\\.kapeli\\.dashdoc$",
					"^co\\.gitup\\.mac$",
					"^com\\.hicknhacksoftware\\.MacPass$",
					"^com\\.operasoftware\\.Opera$",
					"^com\\.apple\\.ActivityMonitor$",
					"^com\\.apple\\.AddressBook$",
					"^com\\.bohemiancoding\\.sketch3$"
				] }] }
			]
		},
		{
			"description": "[Amalgamation] Navigation with C-o/C-b in Finder",
			"manipulators": [
				{ "type": "basic", "from": { "key_code": "n", "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "left_arrow"  }], "conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": ["^com\\.apple\\.finder$"] }] },
				{ "type": "basic", "from": { "key_code": "s", "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "right_arrow" }], "conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": ["^com\\.apple\\.finder$"] }] }
			]
		},
		{
			"description": "[Amalgamation] Navigation with C-o/C-b in Activity Monitor",
			"manipulators": [
				{ "type": "basic", "from": { "key_code": "n", "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "left_arrow"  }], "conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": ["^com\\.apple\\.ActivityMonitor$"] }] },
				{ "type": "basic", "from": { "key_code": "s", "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "right_arrow" }], "conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": ["^com\\.apple\\.ActivityMonitor$"] }] }
			]
		},
		{
			"description": "[Amalgamation] Navigation with C-o/C-b and C-k/C-j in Dash",
			"manipulators": [

				{ "type": "basic", "from": { "key_code": "n", "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "left_arrow"                               }], "conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": ["^com\\.kapeli\\.dashdoc$"] }] },
				{ "type": "basic", "from": { "key_code": "s", "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "right_arrow"                              }], "conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": ["^com\\.kapeli\\.dashdoc$"] }] },
				{ "type": "basic", "from": { "key_code": "v", "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "up_arrow",   "modifiers": ["left_option"] }], "conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": ["^com\\.kapeli\\.dashdoc$"] }] },
				{ "type": "basic", "from": { "key_code": "c", "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "down_arrow", "modifiers": ["left_option"] }], "conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": ["^com\\.kapeli\\.dashdoc$"] }] }
			]
		},
		{
			"description": "[Amalgamation] File- and refresh-hotkeys in Finder",
			"manipulators": [
				{ "type": "basic", "from": { "key_code": "slash",  "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "f1", "modifiers": ["left_control", "left_shift", "left_command"] }], "conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": ["^com\\.apple\\.finder$"] }] },
				{ "type": "basic", "from": { "key_code": "d",      "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "f2", "modifiers": ["left_control", "left_shift", "left_command"] }], "conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": ["^com\\.apple\\.finder$"] }] },
				{ "type": "basic", "from": { "key_code": "period", "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "f3", "modifiers": ["left_control", "left_shift", "left_command"] }], "conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": ["^com\\.apple\\.finder$"] }] },
				{ "type": "basic", "from": { "key_code": "a",      "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "f4", "modifiers": ["left_control", "left_shift", "left_command"] }], "conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": ["^com\\.apple\\.finder$"] }] },
				{ "type": "basic", "from": { "key_code": "u",      "modifiers": { "mandatory": ["left_control"] } }, "to": [{ "key_code": "f5", "modifiers": ["left_control", "left_shift", "left_command"] }], "conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": ["^com\\.apple\\.finder$"] }] },
				{ "type": "basic", "from": { "key_code": "r",      "modifiers": { "mandatory": ["left_command"] } }, "to": [{ "shell_command": "osascript -e 'tell application \"Finder\" to tell front window to update every item'" }], "conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": ["^com\\.apple\\.finder$"] }] }
			]
		},
		{
			"description": "[Amalgamation] Backspace to kill process in Activity Monitor",
			"manipulators": [
				{ "type": "basic", "from": { "key_code": "delete_or_backspace" }, "to": [{ "key_code": "q", "modifiers": ["left_command", "left_option"] }], "conditions": [{ "type": "frontmost_application_if", "bundle_identifiers": ["^com\\.apple\\.ActivityMonitor$"] }] }
			]
		}
	]
}
